# VK Test Backend API

Это бэкенд-сервис для импровизированного маркетплейса, разработанный в рамках тестового задания. Пользователи могут регистрироваться, авторизовываться и публиковать объявления. Просмотр объявлений доступен всем.

## Требования

Для сборки и запуска проекта вам понадобятся:

*   **Go**: Проект разработан на версии 1.25rc1, но должен быть совместим с версией 1.22 и выше.
*   **Docker**: Последняя стабильная версия.
*   **Docker Compose**: Последняя стабильная версия.

## Запуск проекта

Для запуска проекта выполните следующие шаги:

1.  **Склонируйте репозиторий:**

    ```bash
    git clone git@github.com:MafiaLogiki/vk-test-beckend.git
    cd vk-test-beckend
    ```

2.  **Запустите приложение:**

    Выполните команду:
    ```bash
    make run
    ```
    Эта команда автоматически создаст файл `.env` из `.env.example`, если он отсутствует, а затем соберет и запустит все необходимые сервисы с помощью Docker Compose.

    Для остановки сервисов используйте команду:
    ```bash
    make down
    ```

## Доступ к API

После успешного запуска сервиса API будет доступен по адресу `http://localhost:8080/api/v1`.

Документация Swagger UI доступна по адресу `http://localhost:8080/api/v1/swagger/index.html`.

### Основные эндпоинты

*   `POST /api/v1/register`: Регистрация нового пользователя.
*   `POST /api/v1/auth`: Авторизация пользователя и получение JWT токена.
*   `GET /api/v1/announcements`: Получение списка объявлений (доступно без авторизации).
*   `POST /api/v1/announcements`: Создание нового объявления (требуется авторизация).

## Структура проекта

Проект организован по модульному принципу, где каждый внутренний пакет отвечает за определенный аспект функциональности:

*   `announcements`: Содержит логику для работы с объявлениями (создание и получение ленты объявлений)
*   `auth`: Отвечает за авторизацию и аутентификацию пользователей и проверку токенов
*   `config`: Управляет загрузкой и доступом к конфигурации приложения
*   `database`: Предоставляет функциональность для подключения и взаимодействия с базой данных
*   `logger`: Реализует систему логирования
*   `middleware`: Содержит HTTP-мидлвары, такие как валидация
*   `model`: Определяет структуры данных (модели) для сущностей приложения (например, `User`, `Announcement`)
*   `register`: Обрабатывает логику регистрации новых пользователей
*   `store`: Предоставляет интерфейсы и реализации для взаимодействия с базой данных (удобно для mock тестирования)
*   `token`: Управляет созданием, подписанием и валидацией JWT-токенов

## Важное примечание по безопасности

В рамках данного тестового задания пароли пользователей хранятся в базе данных в открытом виде. В реальных проектах такое, очевидно, не приветствуется из-за безопасности
